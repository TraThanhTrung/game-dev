@page
@model GameServer.Areas.Player.Pages.StatsModel
@{
    ViewData["Title"] = "Statistics";
}

<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">
        <i class="fas fa-chart-bar me-2"></i>Player Statistics
    </h1>
</div>

@if (Model.Profile != null && Model.Stats != null)
{
    <div class="row">
        <div class="col-lg-6 mb-4">
            <div class="card shadow">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary">
                        <i class="fas fa-sword me-2"></i>Combat Stats
                    </h6>
                </div>
                <div class="card-body">
                    <table class="table table-hover">
                        <tr>
                            <td style="width: 250px;"><strong>Damage:</strong></td>
                            <td>
                                <span class="badge bg-danger">@Model.Stats.Damage</span>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>Range:</strong></td>
                            <td>
                                <span class="badge bg-info">@Model.Stats.Range.ToString("F2")</span>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>Knockback Force:</strong></td>
                            <td>
                                <span class="badge bg-warning">@Model.Stats.KnockbackForce.ToString("F2")</span>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>

        <div class="col-lg-6 mb-4">
            <div class="card shadow">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary">
                        <i class="fas fa-running me-2"></i>Movement Stats
                    </h6>
                </div>
                <div class="card-body">
                    <table class="table table-hover">
                        <tr>
                            <td style="width: 250px;"><strong>Speed:</strong></td>
                            <td>
                                <span class="badge bg-success">@Model.Stats.Speed.ToString("F2")</span>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-6 mb-4">
            <div class="card shadow">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary">
                        <i class="fas fa-heart me-2"></i>Health Stats
                    </h6>
                </div>
                <div class="card-body">
                    <table class="table table-hover">
                        <tr>
                            <td style="width: 250px;"><strong>Max Health:</strong></td>
                            <td>
                                <span class="badge bg-danger">@Model.Stats.MaxHealth</span>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>Current Health:</strong></td>
                            <td>
                                <span class="badge bg-success">@Model.Stats.CurrentHealth</span>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>Health Percentage:</strong></td>
                            <td>
                                @{
                                    var healthPercent = Model.Stats.MaxHealth > 0 
                                        ? (int)((double)Model.Stats.CurrentHealth / Model.Stats.MaxHealth * 100) 
                                        : 0;
                                }
                                <div class="progress" style="height: 25px;">
                                    <div class="progress-bar bg-danger" role="progressbar" 
                                         style="width: @healthPercent%" 
                                         aria-valuenow="@healthPercent" 
                                         aria-valuemin="0" 
                                         aria-valuemax="100">
                                        @healthPercent%
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>

        <div class="col-lg-6 mb-4">
            <div class="card shadow">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary">
                        <i class="fas fa-user me-2"></i>Player Info
                    </h6>
                </div>
                <div class="card-body">
                    <table class="table table-hover">
                        <tr>
                            <td style="width: 250px;"><strong>Name:</strong></td>
                            <td><span class="player-name">@Model.Profile.Name</span></td>
                        </tr>
                        <tr>
                            <td><strong>Level:</strong></td>
                            <td>
                                <span class="badge bg-primary">Level @Model.Profile.Level</span>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>Experience:</strong></td>
                            <td>
                                @Model.Profile.Exp / @Model.Profile.ExpToLevel EXP
                                <div class="progress mt-2" style="height: 20px;">
                                    @{
                                        var expPercent = Model.Profile.ExpToLevel > 0 
                                            ? (int)((double)Model.Profile.Exp / Model.Profile.ExpToLevel * 100) 
                                            : 0;
                                    }
                                    <div class="progress-bar bg-success" role="progressbar" 
                                         style="width: @expPercent%" 
                                         aria-valuenow="@expPercent" 
                                         aria-valuemin="0" 
                                         aria-valuemax="100">
                                        @expPercent%
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
}


