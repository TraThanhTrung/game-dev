@page
@model GameServer.Areas.Player.Pages.StatsModel
@{
    ViewData["Title"] = "Statistics";
}

<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center mb-4">
    <div>
        <h1 class="mb-0">
            <i class="fas fa-chart-bar me-2"></i>Player Statistics
        </h1>
        <p class="text-muted mb-0">Detailed combat and performance stats</p>
    </div>
</div>

@if (Model.Profile != null && Model.Stats != null)
{
    <div class="row">
        <div class="col-lg-6 mb-4">
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-sword me-2"></i>Combat Stats
                </div>
                <div class="card-body">
                    <table class="table">
                        <tr>
                            <td style="width: 250px;">
                                <strong>
                                    <i class="fas fa-fire me-2" style="color: var(--gaming-secondary);"></i>Damage:
                                </strong>
                            </td>
                            <td class="text-end">
                                <span class="badge bg-primary" style="font-size: 1.1rem; padding: 0.5rem 1rem;">
                                    @Model.Stats.Damage
                                </span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <strong>
                                    <i class="fas fa-bullseye me-2" style="color: var(--gaming-primary);"></i>Range:
                                </strong>
                            </td>
                            <td class="text-end">
                                <span class="badge bg-primary" style="font-size: 1.1rem; padding: 0.5rem 1rem;">
                                    @Model.Stats.Range.ToString("F2")
                                </span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <strong>
                                    <i class="fas fa-hand-rock me-2" style="color: var(--gaming-accent);"></i>Knockback Force:
                                </strong>
                            </td>
                            <td class="text-end">
                                <span class="badge bg-warning" style="font-size: 1.1rem; padding: 0.5rem 1rem;">
                                    @Model.Stats.KnockbackForce.ToString("F2")
                                </span>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>

        <div class="col-lg-6 mb-4">
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-running me-2"></i>Movement Stats
                </div>
                <div class="card-body">
                    <table class="table">
                        <tr>
                            <td style="width: 250px;">
                                <strong>
                                    <i class="fas fa-tachometer-alt me-2" style="color: var(--gaming-success);"></i>Speed:
                                </strong>
                            </td>
                            <td class="text-end">
                                <span class="badge bg-success" style="font-size: 1.1rem; padding: 0.5rem 1rem;">
                                    @Model.Stats.Speed.ToString("F2")
                                </span>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-6 mb-4">
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-heart me-2"></i>Health Stats
                </div>
                <div class="card-body">
                    <table class="table">
                        <tr>
                            <td style="width: 250px;">
                                <strong>
                                    <i class="fas fa-shield-alt me-2" style="color: var(--gaming-primary);"></i>Max Health:
                                </strong>
                            </td>
                            <td class="text-end">
                                <span class="badge bg-primary" style="font-size: 1.1rem; padding: 0.5rem 1rem;">
                                    @Model.Stats.MaxHealth
                                </span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <strong>
                                    <i class="fas fa-heartbeat me-2" style="color: var(--gaming-secondary);"></i>Current Health:
                                </strong>
                            </td>
                            <td class="text-end">
                                <span class="badge bg-success" style="font-size: 1.1rem; padding: 0.5rem 1rem;">
                                    @Model.Stats.CurrentHealth
                                </span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <strong>
                                    <i class="fas fa-percentage me-2" style="color: var(--gaming-accent);"></i>Health Percentage:
                                </strong>
                            </td>
                            <td>
                                @{
                                    var healthPercent = Model.Stats.MaxHealth > 0 
                                        ? (int)((double)Model.Stats.CurrentHealth / Model.Stats.MaxHealth * 100) 
                                        : 0;
                                }
                                <div class="progress mt-2">
                                    <div class="progress-bar" 
                                         role="progressbar" 
                                         style="width: @healthPercent%; background: linear-gradient(90deg, var(--gaming-secondary) 0%, var(--gaming-success) 100%);" 
                                         aria-valuenow="@healthPercent" 
                                         aria-valuemin="0" 
                                         aria-valuemax="100">
                                        <strong>@healthPercent%</strong>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>

        <div class="col-lg-6 mb-4">
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-user me-2"></i>Player Info
                </div>
                <div class="card-body">
                    <table class="table">
                        <tr>
                            <td style="width: 250px;">
                                <strong>
                                    <i class="fas fa-user-circle me-2" style="color: var(--gaming-primary);"></i>Name:
                                </strong>
                            </td>
                            <td>
                                <span class="player-name">@Model.Profile.Name</span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <strong>
                                    <i class="fas fa-level-up-alt me-2" style="color: var(--gaming-accent);"></i>Level:
                                </strong>
                            </td>
                            <td>
                                <span class="badge bg-primary" style="font-size: 1.1rem; padding: 0.5rem 1rem;">
                                    Level @Model.Profile.Level
                                </span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <strong>
                                    <i class="fas fa-star me-2" style="color: var(--gaming-accent);"></i>Experience:
                                </strong>
                            </td>
                            <td>
                                <div class="mb-2">
                                    <strong style="color: var(--gaming-primary);">
                                        @Model.Profile.Exp / @Model.Profile.ExpToLevel EXP
                                    </strong>
                                </div>
                                <div class="progress">
                                    @{
                                        var expPercent = Model.Profile.ExpToLevel > 0 
                                            ? (int)((double)Model.Profile.Exp / Model.Profile.ExpToLevel * 100) 
                                            : 0;
                                    }
                                    <div class="progress-bar" 
                                         role="progressbar" 
                                         style="width: @expPercent%" 
                                         aria-valuenow="@expPercent" 
                                         aria-valuemin="0" 
                                         aria-valuemax="100">
                                        <strong>@expPercent%</strong>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
}
